(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(470)}])},8175:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(5893),o=n(9008),l=n.n(o),a=n(1664),s=n.n(a),i=n(1163);let c=[{label:"Vev",href:"/story"},{label:"Matchups",href:"/matchups"}];var d=()=>{let e=(0,i.useRouter)();return(0,r.jsx)("div",{className:"fixed top-0 left-0 z-20 w-full bg-zinc-900 pt-safe",children:(0,r.jsx)("header",{className:"border-b bg-zinc-100 px-safe dark:border-zinc-800 dark:bg-zinc-900",children:(0,r.jsxs)("div",{className:"mx-auto flex h-20 max-w-screen-md items-center justify-between px-6",children:[(0,r.jsx)(s(),{href:"/",children:(0,r.jsx)("h1",{className:"font-medium",children:"Vev kj\xf8rer dart"})}),(0,r.jsxs)("nav",{className:"flex items-center space-x-6",children:[(0,r.jsx)("div",{className:"hidden sm:block",children:(0,r.jsx)("div",{className:"flex items-center space-x-6",children:c.map(t=>{let{label:n,href:o}=t;return(0,r.jsx)(s(),{href:o,className:"text-sm ".concat(e.pathname===o?"text-indigo-500 dark:text-indigo-400":"text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-50"),children:n},n)})})}),(0,r.jsx)("div",{title:"Uia Dart",className:"h-10 w-10 bg-cover bg-center shadow-inner",style:{backgroundImage:"url(https://www.svgrepo.com/show/261503/trousers.svg)"}})]})]})})})},u=()=>{let e=(0,i.useRouter)();return(0,r.jsx)("div",{className:"sm:hidden",children:(0,r.jsx)("nav",{className:"fixed bottom-0 w-full border-t bg-zinc-100 pb-safe dark:border-zinc-800 dark:bg-zinc-900",children:(0,r.jsx)("div",{className:"mx-auto flex h-16 max-w-md items-center justify-around px-6",children:m.map(t=>{let{href:n,label:o,icon:l}=t;return(0,r.jsxs)(s(),{href:n,className:"flex h-full w-full flex-col items-center justify-center space-y-1 ".concat(e.pathname===n?"text-indigo-500 dark:text-indigo-400":"text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-50"),children:[l,(0,r.jsx)("span",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:o})]},o)})})})})};let m=[{label:"Home",href:"/",icon:(0,r.jsx)("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",children:(0,r.jsx)("path",{d:"M7.5.5l.325-.38a.5.5 0 00-.65 0L7.5.5zm-7 6l-.325-.38L0 6.27v.23h.5zm5 8v.5a.5.5 0 00.5-.5h-.5zm4 0H9a.5.5 0 00.5.5v-.5zm5-8h.5v-.23l-.175-.15-.325.38zM1.5 15h4v-1h-4v1zm13.325-8.88l-7-6-.65.76 7 6 .65-.76zm-7.65-6l-7 6 .65.76 7-6-.65-.76zM6 14.5v-3H5v3h1zm3-3v3h1v-3H9zm.5 3.5h4v-1h-4v1zm5.5-1.5v-7h-1v7h1zm-15-7v7h1v-7H0zM7.5 10A1.5 1.5 0 019 11.5h1A2.5 2.5 0 007.5 9v1zm0-1A2.5 2.5 0 005 11.5h1A1.5 1.5 0 017.5 10V9zm6 6a1.5 1.5 0 001.5-1.5h-1a.5.5 0 01-.5.5v1zm-12-1a.5.5 0 01-.5-.5H0A1.5 1.5 0 001.5 15v-1z",fill:"currentColor"})})},{label:"Vev",href:"/story",icon:(0,r.jsx)("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",children:(0,r.jsx)("path",{d:"M2.5.5V0H2v.5h.5zm10 0h.5V0h-.5v.5zM4.947 4.724a.5.5 0 00-.894-.448l.894.448zM2.5 8.494l-.447-.223-.146.293.21.251.383-.32zm5 5.997l-.384.32a.5.5 0 00.769 0l-.385-.32zm5-5.996l.384.32.21-.251-.146-.293-.447.224zm-1.553-4.219a.5.5 0 00-.894.448l.894-.448zM8 9.494v-.5H7v.5h1zm-.5-4.497A4.498 4.498 0 013 .5H2a5.498 5.498 0 005.5 5.497v-1zM2.5 1h10V0h-10v1zM12 .5a4.498 4.498 0 01-4.5 4.497v1c3.038 0 5.5-2.46 5.5-5.497h-1zM4.053 4.276l-2 3.995.895.448 2-3.995-.895-.448zM2.116 8.815l5 5.996.769-.64-5-5.996-.769.64zm5.768 5.996l5-5.996-.768-.64-5 5.996.769.64zm5.064-6.54l-2-3.995-.895.448 2 3.995.895-.448zM8 14.49V9.494H7v4.997h1z",fill:"currentColor"})})},{label:"Matchups",href:"/matchups",icon:(0,r.jsx)("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",children:(0,r.jsx)("path",{d:"M7.5 15V7m0 .5v3m0-3a4 4 0 00-4-4h-3v3a4 4 0 004 4h3m0-3h3a4 4 0 004-4v-3h-3a4 4 0 00-4 4v3zm0 0l4-4m-4 7l-4-4",stroke:"currentColor"})})}];var h=e=>{let{title:t,children:n}=e;return(0,r.jsxs)(r.Fragment,{children:[t?(0,r.jsx)(l(),{children:(0,r.jsxs)("title",{children:["Dart Kj\xf8ret | ",t]})}):null,(0,r.jsx)(d,{}),(0,r.jsx)("main",{className:"mx-auto max-w-screen-md pt-20 pb-16 px-safe sm:pb-0",children:(0,r.jsx)("div",{className:"p-6",children:n})}),(0,r.jsx)(u,{})]})}},4521:function(e,t,n){"use strict";var r=n(5893);t.Z=e=>{let{children:t}=e;return(0,r.jsx)("section",{className:"mt-10",children:t})}},470:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var r=n(5893),o=n(7294),l=n(8175),a=n(4521),s=e=>{let{label:t,type:n="text",name:o,value:l,onChange:a}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-zinc-600 dark:text-zinc-400",children:t}),(0,r.jsx)("input",{type:n,name:o,value:l,onChange:a,className:"mt-1 w-full px-3 py-2 border rounded-md bg-zinc-100 dark:bg-zinc-800 text-zinc-900 dark:text-white"})]})},i=n(1163),c=n(4722),d=!1;if("undefined"!=typeof window){var u={get passive(){d=!0;return}};window.addEventListener("testPassive",null,u),window.removeEventListener("testPassive",null,u)}var m="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),h=[],g=!1,f=-1,p=void 0,v=void 0,x=void 0,b=function(e){return h.some(function(t){return!!(t.options.allowTouchMove&&t.options.allowTouchMove(e))})},y=function(e){var t=e||window.event;return!!b(t.target)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)},w=function(e){if(void 0===x){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;if(t&&n>0){var r=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);x=document.body.style.paddingRight,document.body.style.paddingRight=r+n+"px"}}void 0===p&&(p=document.body.style.overflow,document.body.style.overflow="hidden")},j=function(){void 0!==x&&(document.body.style.paddingRight=x,x=void 0),void 0!==p&&(document.body.style.overflow=p,p=void 0)},S=function(){if(void 0!==v){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=v.position,document.body.style.top=v.top,document.body.style.left=v.left,window.scrollTo(t,e),v=void 0}},N=function(e,t){var n=e.targetTouches[0].clientY-f;return!b(e.target)&&(t&&0===t.scrollTop&&n>0?y(e):t&&t.scrollHeight-t.scrollTop<=t.clientHeight&&n<0?y(e):(e.stopPropagation(),!0))},z=function(e,t){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}!h.some(function(t){return t.targetElement===e})&&(h=[].concat(function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}(h),[{targetElement:e,options:t||{}}]),m?window.requestAnimationFrame(function(){if(void 0===v){v={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,n=e.scrollX,r=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-n,setTimeout(function(){return window.requestAnimationFrame(function(){var e=r-window.innerHeight;e&&t>=r&&(document.body.style.top=-(t+e))})},300)}}):w(t),m&&(e.ontouchstart=function(e){1===e.targetTouches.length&&(f=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&N(t,e)},g||(document.addEventListener("touchmove",y,d?{passive:!1}:void 0),g=!0)))},k=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}h=h.filter(function(t){return t.targetElement!==e}),m&&(e.ontouchstart=null,e.ontouchmove=null,g&&0===h.length&&(document.removeEventListener("touchmove",y,d?{passive:!1}:void 0),g=!1)),m?S():j()},I=()=>{let e=(0,i.useRouter)(),[t,n]=(0,o.useState)([""]),[d,u]=(0,o.useState)(["Bane 1","Bane 2","Bane 3","Bane 4"]),[m,h]=(0,o.useState)(!1),[g,f]=(0,o.useState)(!1),p=["Adrian Vevatne","Andreas Klausen","Ane Hern\xe6s","Benjamin Baxter","Charlotte Boe","Eline Furuseth","Ella Espe","Emilie Fjeldheim","Erik Risa","Erlend Falkeid","Erlend Gjesdal","Even Harjo Bakke","Halvard Kvinge","Henrik Torgersen","Ingrid Vestad","Joachim Lambine","Jonas Ericsson","Jonas Lefdal","Julian Haarberg","Kasper Borgen","Katinka Westli","Kristine H\xf8gnes","Lotte Dovland","Mads Ancher Gr\xf8n","Magnus Ytterb\xf8","Magnus St\xf8fring","Marius Winge","Mats Bender Sch\xf8yen","Mats Raust\xf8l","Nicklas Holm Andersen","Nils Anders Kj\xe6refjord","Olav Andre Brekke","Olav Zahl Nyrnes","Ole Bos\xe5en","Oliver Falck Heng","Philip L\xf8v\xe5s","Rikke Kampenes","Selma Holme","Simen Brauti","Simen Tandberg","Sondre Evjen","Sondre H\xe5land","Stian Viken","Tea Johansen","Thomas Sandmo","Thomas Fjermestad","Tora","Tobias Reitan","Truls Fikseaunet","Ulrikke Dietz","Vegard Omnes Rike","Morten Gumpen"].sort();(0,o.useEffect)(()=>{let e=localStorage.getItem("players"),t=localStorage.getItem("courts");e&&n(JSON.parse(e)),t&&u(JSON.parse(t)),h(!0)},[]),(0,o.useEffect)(()=>{m&&localStorage.setItem("players",JSON.stringify(t))},[t,m]),(0,o.useEffect)(()=>{m&&localStorage.setItem("courts",JSON.stringify(d))},[d,m]),(0,o.useEffect)(()=>{(function(){let e=new Date().toDateString();localStorage.getItem("sessionDate")!==e&&(window.confirm("Hei, det er en dag siden sist du spillte, vil du resette data?")&&(localStorage.setItem("courts",JSON.stringify(["Bane 1","Bane 2","Bane 3","Bane 4"])),localStorage.removeItem("matchups"),localStorage.removeItem("onBreak"),localStorage.removeItem("pastTeams"),localStorage.removeItem("pastPairs"),localStorage.removeItem("lastRoundPlayers"),localStorage.removeItem("pastBreaks"),localStorage.removeItem("breakCounts"),localStorage.removeItem("roundCount"),localStorage.removeItem("currentCount"),console.log("Pairing data has been reset.")),localStorage.setItem("sessionDate",e))})()},[]);let v=(e,t)=>{n(n=>{let r=[...n];return r[e]=t.target.value,e===r.length-1&&""!==t.target.value.trim()&&r.push(""),r})},x=(e,t)=>{let n=[...d];n[e]=t.target.value,u(n)},b=e=>{let t=d.filter((t,n)=>n!==e);u(t),localStorage.setItem("courts",JSON.stringify(t))},y=e=>{let r=t.filter((t,n)=>n!==e);n(r),localStorage.setItem("players",JSON.stringify(r))},w=e=>{n(t=>{let n=[...t];return n.length&&!n[n.length-1].trim()&&n.pop(),n.includes(e)?n=n.filter(t=>t!==e):n.push(e),n.push(""),n})},j=e=>t.filter(e=>""!==e.trim()).includes(e);(0,o.useRef)(null);let S=(0,o.useRef)(null),N=()=>{S.current&&k(S.current),f(!1),document.body.classList.remove("modal-open")};return(0,r.jsx)(l.Z,{children:(0,r.jsxs)(a.Z,{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-zinc-800 dark:text-zinc-200",children:"Velg lag n\xe5."}),(0,r.jsxs)("form",{onSubmit:n=>{n.preventDefault();let r=localStorage.getItem("roundCount"),o=r?parseInt(r,10):0;o+=1,localStorage.setItem("roundCount",o.toString());let l=t.filter(e=>""!==e.trim()),{matchups:a,onBreak:s}=(0,c.u)(l,d);e.push("/matchups")},className:"mt-4 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-zinc-800 dark:text-zinc-200",children:"Spillere"}),(0,r.jsx)("div",{className:"max-h-80 overflow-y-auto",children:t.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center space-x-2 w-full",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(s,{label:"Spiller ".concat(t+1),name:"spiller".concat(t),value:e,onChange:e=>v(t,e)})}),(0,r.jsx)("button",{type:"button",onClick:()=>y(t),className:"px-3 py-1 bg-red-500 text-white rounded-md hover:bg-red-600 mt-6",children:"X"})]},"spiller-".concat(t)))}),(0,r.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>n(e=>[...e,""]),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"+ Ny Spiller"}),(0,r.jsx)("button",{type:"button",onClick:()=>{n([""]),localStorage.setItem("players",JSON.stringify([""]))},className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Fjern alle spillere"})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{f(!0),S.current&&z(S.current,{reserveScrollBarGap:!0}),document.body.classList.add("modal-open")},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:g?"Skjul forh\xe5ndsdefinerte navn":"Vis forh\xe5ndsdefinerte navn"}),g&&(0,r.jsx)("div",{id:"dialog",className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-2 py-4 overflow-hidden touch-none",onClick:N,children:(0,r.jsxs)("div",{ref:S,className:"relative bg-zinc-900 rounded-lg shadow-xl p-4 w-full max-w-md max-h-[90vh] overflow-y-auto overscroll-contain",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("button",{onClick:N,className:"sticky top-2 float-right px-3 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 z-50",children:"X"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2 mt-9",children:p.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>w(e),className:"\n              py-2 px-3 rounded-lg text-sm font-medium transition-all duration-150\n              ".concat(j(e)?"bg-green-500 text-white shadow-md":"bg-red-500 text-white shadow-md","\n              active:scale-95\n              hover:brightness-110\n            "),children:e},e))})]})})]}),(0,r.jsxs)("div",{className:"flex-row justify-center mt-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-zinc-800 dark:text-zinc-200",children:"Courts"}),d.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(s,{label:"Bane ".concat(t+1),name:"bane".concat(t),value:e,onChange:e=>x(t,e)}),t===d.length-1&&(0,r.jsx)("button",{type:"button",onClick:()=>b(t),className:"px-3 py-1 bg-red-500 text-white rounded-md hover:bg-red-600 mt-6",children:"X"})]},"bane-".concat(t))),(0,r.jsx)("button",{type:"button",onClick:()=>u([...d,"Bane ".concat(d.length+1)]),className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"+ Ny Bane"})]}),(0,r.jsx)("div",{className:"flex justify-center mt-4",children:(0,r.jsx)("button",{type:"submit",className:"flex-center mt-4 px-5 py-3 bg-green-500 text-white rounded-md hover:bg-green-600",children:"Generer Lag"})})]})]})})}},4722:function(e,t,n){"use strict";function r(e,t,n){return n.some(n=>n.includes(e)&&n.includes(t))}function o(e){let t=[...e];for(let e=t.length-1;e>0;e--){let n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}n.d(t,{u:function(){return a}});let l=function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2],e.length<2)return[];let n=0;for(;n<3;){for(let n=0;n<e.length-1;n++)for(let o=n+1;o<e.length;o++)if(!r(e[n],e[o],t)){let r=[e[n],e[o]];return e.splice(o,1),e.splice(n,1),t.push(r),r}e.sort(()=>Math.random()-.5),n++}let o=e.pop(),l=e.pop();return console.log("⚠️ No unique pairs found after ".concat(3," attempts. Allowing repeat: ").concat(o," and ").concat(l)),t.push([o,l]),[o,l]},a=(e,t)=>{let n=JSON.parse(localStorage.getItem("pastPairs")||"[]"),a=JSON.parse(localStorage.getItem("breakCounts")||"{}");e=e.filter(e=>""!==e.trim());let s=Object.values(a),i=s.length>0?Math.max(...s):0;e.forEach(e=>{void 0===a[e]&&(a[e]=i)});let c=e.sort((e,t)=>a[t]-a[e]),d=Math.floor(c.length/4),u=t.slice(0,d),m=o(u),h=4*u.length,g=c.slice(0,h),f=c.slice(h),p=function(e,t,n){if(e.length<4*t)return null;let l=Array(t);return!function e(a,s){if(a===t)return!0;for(let t of o(function(e,t){let n=[];return!function t(r,o){if(4===o.length){n.push([...o]);return}for(let n=r;n<e.length;n++)o.push(e[n]),t(n+1,o),o.pop()}(0,[]),n}(s,0)))for(let[i,c,d,u]of o([[t[0],t[1],t[2],t[3]],[t[0],t[2],t[1],t[3]],[t[0],t[3],t[1],t[2]]]))if(!r(i,c,n)&&!r(d,u,n)){if(n.push([i,c]),n.push([d,u]),l[a]={team1:[i,c],team2:[d,u]},e(a+1,s.filter(e=>!t.includes(e))))return!0;n.pop(),n.pop()}return!1}(0,e)?null:l}(g,u.length,n);if(null===p){console.warn("No arrangement without repeats was found. Falling back to repeated pairs...");let e=[],t=o([...g]);for(;e.length<u.length&&t.length>=4;){let r=l(t,n,!0),o=l(t,n,!0);if(0===r.length||0===o.length)break;e.push({team1:r,team2:o})}p=e}let v=p.map((e,t)=>({court:m[t],matches:[e]}));return f.forEach(e=>{a[e]=(a[e]||0)+1}),localStorage.setItem("matchups",JSON.stringify(v)),localStorage.setItem("onBreak",JSON.stringify(f)),localStorage.setItem("pastPairs",JSON.stringify(n)),localStorage.setItem("breakCounts",JSON.stringify(a)),{matchups:v,onBreak:f}}}},function(e){e.O(0,[996,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);