(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(10)}])},7935:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(5893),l=n(9008),a=n.n(l),o=n(1664),s=n.n(o),i=n(1163),c=n(5675),d=n.n(c);let u=[{label:"Reset",href:"/resetandwinners"},{label:"Matchups",href:"/matchups"}];var m=()=>{let e=(0,i.useRouter)();return(0,r.jsx)("div",{className:"fixed top-0 left-0 z-20 w-full bg-zinc-900 pt-safe",children:(0,r.jsx)("header",{className:"border-b bg-zinc-100 px-safe dark:border-zinc-800 dark:bg-zinc-900",children:(0,r.jsxs)("div",{className:"mx-auto flex h-20 max-w-screen-md items-center justify-between px-6",children:[(0,r.jsx)(s(),{href:"/",children:(0,r.jsx)("h1",{className:"font-medium",children:"UIA kj\xf8rer dart"})}),(0,r.jsxs)("nav",{className:"flex items-center space-x-6",children:[(0,r.jsx)("div",{className:"hidden sm:block",children:(0,r.jsx)("div",{className:"flex items-center space-x-6",children:u.map(t=>{let{label:n,href:l}=t;return(0,r.jsx)(s(),{href:l,className:"text-sm ".concat(e.pathname===l?"text-indigo-500 dark:text-indigo-400":"text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-50"),children:n},n)})})}),(0,r.jsx)(d(),{src:"".concat("/DartApp","/images/icon-maskable-ico-512.png"),alt:"Uia Dart",width:48,height:48,className:"rounded-lg"})]})]})})})},h=()=>{let e=(0,i.useRouter)();return(0,r.jsx)("div",{className:"sm:hidden",children:(0,r.jsx)("nav",{className:"fixed bottom-0 w-full border-t bg-zinc-100 pb-safe dark:border-zinc-800 dark:bg-zinc-900",children:(0,r.jsx)("div",{className:"mx-auto flex h-16 max-w-md items-center justify-around px-6",children:g.map(t=>{let{href:n,label:l,icon:a}=t;return(0,r.jsxs)(s(),{href:n,className:"flex h-full w-full flex-col items-center justify-center space-y-1 ".concat(e.pathname===n?"text-indigo-500 dark:text-indigo-400":"text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-50"),children:[a,(0,r.jsx)("span",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:l})]},l)})})})})};let g=[{label:"Home",href:"/",icon:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"lucide lucide-house",children:[(0,r.jsx)("path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}),(0,r.jsx)("path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"})]})},{label:"Reset",href:"/resetandwinners",icon:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"lucide lucide-rotate-ccw",children:[(0,r.jsx)("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),(0,r.jsx)("path",{d:"M3 3v5h5"})]})},{label:"Matchups",href:"/matchups",icon:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"lucide lucide-swords",children:[(0,r.jsx)("polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5"}),(0,r.jsx)("line",{x1:"13",x2:"19",y1:"19",y2:"13"}),(0,r.jsx)("line",{x1:"16",x2:"20",y1:"16",y2:"20"}),(0,r.jsx)("line",{x1:"19",x2:"21",y1:"21",y2:"19"}),(0,r.jsx)("polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5"}),(0,r.jsx)("line",{x1:"5",x2:"9",y1:"14",y2:"18"}),(0,r.jsx)("line",{x1:"7",x2:"4",y1:"17",y2:"20"}),(0,r.jsx)("line",{x1:"3",x2:"5",y1:"19",y2:"21"})]})}];var f=e=>{let{title:t,children:n}=e;return(0,r.jsxs)(r.Fragment,{children:[t?(0,r.jsx)(a(),{children:(0,r.jsxs)("title",{children:["Dart Kj\xf8ret | ",t]})}):null,(0,r.jsx)(m,{}),(0,r.jsx)("main",{className:"mx-auto max-w-screen-md pt-20 pb-16 px-safe sm:pb-0",children:(0,r.jsx)("div",{className:"p-6",children:n})}),(0,r.jsx)(h,{})]})}},4043:function(e,t,n){"use strict";var r=n(5893);t.Z=e=>{let{children:t}=e;return(0,r.jsx)("section",{className:"mt-10",children:t})}},10:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var r=n(5893),l=n(7294),a=n(7935),o=n(4043),s=e=>{let{label:t,type:n="text",name:l,value:a,onChange:o}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-zinc-600 dark:text-zinc-400",children:t}),(0,r.jsx)("input",{type:n,name:l,value:a,onChange:o,className:"mt-1 w-full px-3 py-2 border rounded-md bg-zinc-100 dark:bg-zinc-800 text-zinc-900 dark:text-white"})]})},i=n(1163),c=n(8577),d=!1;if("undefined"!=typeof window){var u={get passive(){d=!0;return}};window.addEventListener("testPassive",null,u),window.removeEventListener("testPassive",null,u)}var m="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),h=[],g=!1,f=-1,x=void 0,p=void 0,v=void 0,b=function(e){return h.some(function(t){return!!(t.options.allowTouchMove&&t.options.allowTouchMove(e))})},y=function(e){var t=e||window.event;return!!b(t.target)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)},w=function(e){if(void 0===v){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;if(t&&n>0){var r=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);v=document.body.style.paddingRight,document.body.style.paddingRight=r+n+"px"}}void 0===x&&(x=document.body.style.overflow,document.body.style.overflow="hidden")},j=function(){void 0!==v&&(document.body.style.paddingRight=v,v=void 0),void 0!==x&&(document.body.style.overflow=x,x=void 0)},N=function(){if(void 0!==p){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=p.position,document.body.style.top=p.top,document.body.style.left=p.left,window.scrollTo(t,e),p=void 0}},S=function(e,t){var n=e.targetTouches[0].clientY-f;return!b(e.target)&&(t&&0===t.scrollTop&&n>0?y(e):t&&t.scrollHeight-t.scrollTop<=t.clientHeight&&n<0?y(e):(e.stopPropagation(),!0))},k=function(e,t){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}!h.some(function(t){return t.targetElement===e})&&(h=[].concat(function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}(h),[{targetElement:e,options:t||{}}]),m?window.requestAnimationFrame(function(){if(void 0===p){p={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,n=e.scrollX,r=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-n,setTimeout(function(){return window.requestAnimationFrame(function(){var e=r-window.innerHeight;e&&t>=r&&(document.body.style.top=-(t+e))})},300)}}):w(t),m&&(e.ontouchstart=function(e){1===e.targetTouches.length&&(f=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&S(t,e)},g||(document.addEventListener("touchmove",y,d?{passive:!1}:void 0),g=!0)))},I=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}h=h.filter(function(t){return t.targetElement!==e}),m&&(e.ontouchstart=null,e.ontouchmove=null,g&&0===h.length&&(document.removeEventListener("touchmove",y,d?{passive:!1}:void 0),g=!1)),m?N():j()},z=n(4105),B=()=>{let e=(0,i.useRouter)(),[t,n]=(0,l.useState)([""]),[d,u]=(0,l.useState)(["Bane 1","Bane 2","Bane 3","Bane 4"]),[m,h]=(0,l.useState)(!1),[g,f]=(0,l.useState)(!1),[x,p]=(0,l.useState)(!1),[v,b]=(0,l.useState)({}),y=["Adrian Vevatne","Andreas Klausen","Ane Hern\xe6s","Benjamin Baxter","Charlotte Boe","Eline Furuseth","Ella Espe","Emilie Fjeldheim","Erik Risa","Erlend Falkeid","Erlend Gjesdal","Even Harjo Bakke","Halvard Kvinge","Henrik Torgersen","Ingrid Vestad","Joachim Lambine","Jonas Ericsson","Jonas Lefdal","Julian Haarberg","Kasper Borgen","Katinka Westli","Kristine H\xf8gnes","Lotte Dovland","Mads Ancher Gr\xf8n","Magnus Ytterb\xf8","Magnus St\xf8fring","Marius Winge","Mats Bender Sch\xf8yen","Mats Raust\xf8l","Nicklas Holm Andersen","Nils Anders Kj\xe6refjord","Olav Andre Brekke","Olav Zahl Nyrnes","Ole Bos\xe5en","Oliver Falck Heng","Philip L\xf8v\xe5s","Rikke Kampenes","Selma Holme","Simen Brauti","Simen Tandberg","Sondre Evjen","Sondre H\xe5land","Stian Viken","Tea Johansen","Thomas Sandmo","Thomas Fjermestad","Marte Hansen","Tobias Reitan","Truls Fikseaunet","Ulrikke Dietz","Vegard Omnes Rike","Morten Gumpen"].sort();(0,l.useEffect)(()=>{let e=localStorage.getItem("players"),t=localStorage.getItem("courts");e&&n(JSON.parse(e)),t&&u(JSON.parse(t)),h(!0)},[]),(0,l.useEffect)(()=>{m&&localStorage.setItem("players",JSON.stringify(t))},[t,m]),(0,l.useEffect)(()=>{m&&localStorage.setItem("courts",JSON.stringify(d))},[d,m]);let w=(e,t)=>{n(n=>{let r=[...n];return r[e]=t.target.value,e===r.length-1&&""!==t.target.value.trim()&&r.push(""),r})},j=(e,t)=>{let n=[...d];n[e]=t.target.value,u(n)},N=e=>{let t=d.filter((t,n)=>n!==e);u(t),localStorage.setItem("courts",JSON.stringify(t))},S=e=>{let r=t.filter((t,n)=>n!==e);n(r),localStorage.setItem("players",JSON.stringify(r))},B=e=>{n(t=>{let n=[...t];return n.length&&!n[n.length-1].trim()&&n.pop(),n.includes(e)?n=n.filter(t=>t!==e):n.push(e),n.push(""),n})},E=e=>t.filter(e=>""!==e.trim()).includes(e);(0,l.useRef)(null),(0,l.useEffect)(()=>{let e=new Date().toDateString();localStorage.getItem("sessionDate")!==e&&p(!0)},[]);let C=()=>{let e=new Date().toDateString();localStorage.setItem("sessionDate",e)},O=()=>{C(),localStorage.setItem("courts",JSON.stringify(["Bane 1","Bane 2","Bane 3","Bane 4"])),localStorage.removeItem("matchups"),localStorage.removeItem("onBreak"),localStorage.removeItem("pastTeams"),localStorage.removeItem("pastPairs"),localStorage.removeItem("lastRoundPlayers"),localStorage.removeItem("pastBreaks"),localStorage.removeItem("breakCounts"),localStorage.removeItem("roundCount"),localStorage.removeItem("currentCount"),localStorage.removeItem("matchWinners"),localStorage.removeItem("wins"),console.log("Pairing data has been reset."),window.location.reload()},A=(0,l.useRef)(null),M=()=>{A.current&&I(A.current),f(!1),document.body.classList.remove("modal-open")};return(0,r.jsx)(a.Z,{children:(0,r.jsxs)(o.Z,{children:[(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-zinc-800 dark:text-zinc-200",children:"Last opp Excel-fil for p\xe5meldte"}),(0,r.jsx)("input",{type:"file",accept:".xlsx, .xls",onChange:e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!r)return;let l=new FileReader;l.readAsBinaryString(r),l.onload=e=>{var t;let r=null===(t=e.target)||void 0===t?void 0:t.result,l=z.ij(r,{type:"binary"}),a="For import",o=l.Sheets[a];if(!o){alert("Sheet '".concat(a,"' not found in the Excel file."));return}let s=z.P6.sheet_to_json(o,{header:1}),i=s.findIndex(e=>Array.isArray(e)&&e.includes("Status")&&e.includes("Navn"));if(-1===i){alert("Could not find the headers 'Status' and 'Navn' in the sheet.");return}let c=s[i],d=c.indexOf("Status"),u=c.indexOf("Navn");if(-1===d||-1===u){alert("Missing 'Status' or 'Navn' columns in the sheet.");return}let m=s.slice(i+1).filter(e=>"Kommer"===e[d]).map(e=>e[u]).filter(e=>"string"==typeof e);n(e=>[...Array.from(new Set([...e.filter(e=>""!==e.trim()),...m])),""])}},className:"mt-2"})]}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-zinc-800 dark:text-zinc-200",children:"Velg lag n\xe5."}),(0,r.jsxs)("form",{onSubmit:n=>{n.preventDefault();let r=localStorage.getItem("roundCount"),l=r?parseInt(r,10):0;l+=1,localStorage.setItem("roundCount",l.toString()),localStorage.removeItem("matchWinners"),b({});let a=t.filter(e=>""!==e.trim()),{matchups:o,onBreak:s}=(0,c.u)(a,d);e.push("/matchups")},className:"mt-4 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-zinc-800 dark:text-zinc-200",children:"Spillere"}),(0,r.jsx)("div",{className:"max-h-80 no-scrollbar overflow-y-auto",children:t.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center space-x-2 w-full",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(s,{label:"Spiller ".concat(t+1),name:"spiller".concat(t),value:e,onChange:e=>w(t,e)})}),(0,r.jsx)("button",{type:"button",onClick:()=>S(t),className:"px-3 py-1 bg-red-500 text-white rounded-md hover:bg-red-600 mt-6",children:"X"})]},"spiller-".concat(t)))}),(0,r.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>n(e=>[...e,""]),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"+ Ny Spiller"}),(0,r.jsx)("button",{type:"button",onClick:()=>{n([""]),localStorage.setItem("players",JSON.stringify([""]))},className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Fjern alle spillere"})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{f(!0),A.current&&k(A.current,{reserveScrollBarGap:!0}),document.body.classList.add("modal-open")},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:g?"Skjul forh\xe5ndsdefinerte navn":"Vis forh\xe5ndsdefinerte navn"}),g&&(0,r.jsx)("div",{id:"dialog",className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-2 py-4 overflow-hidden touch-none",onClick:M,children:(0,r.jsxs)("div",{ref:A,className:"relative bg-zinc-900 rounded-lg shadow-xl p-4 w-full max-w-md max-h-[90vh] no-scrollbar overflow-y-auto overscroll-contain",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("button",{onClick:M,className:"sticky top-2 float-right px-3 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 z-50",children:"X"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2 mt-9",children:y.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>B(e),className:"\n              py-2 px-3 rounded-lg text-sm font-medium transition-all duration-150\n              ".concat(E(e)?"bg-green-500 text-white shadow-md":"bg-red-500 text-white shadow-md","\n              active:scale-95\n              hover:brightness-110\n            "),children:e},e))})]})})]}),(0,r.jsxs)("div",{className:"flex-row justify-center mt-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-zinc-800 dark:text-zinc-200",children:"Courts"}),d.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(s,{label:"Bane ".concat(t+1),name:"bane".concat(t),value:e,onChange:e=>j(t,e)}),t===d.length-1&&(0,r.jsx)("button",{type:"button",onClick:()=>N(t),className:"px-3 py-1 bg-red-500 text-white rounded-md hover:bg-red-600 mt-6",children:"X"})]},"bane-".concat(t))),(0,r.jsx)("button",{type:"button",onClick:()=>u([...d,"Bane ".concat(d.length+1)]),className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"+ Ny Bane"})]}),(0,r.jsx)("div",{className:"flex justify-center mt-4",children:(0,r.jsx)("button",{type:"submit",className:"flex-center mt-4 px-5 py-3 bg-green-500 text-white rounded-md hover:bg-green-600",children:"Generer Lag"})})]}),x&&(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:(0,r.jsxs)("div",{className:"bg-zinc-900 p-6 rounded-lg shadow-lg w-96",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Vil du resette data?"}),(0,r.jsx)("p",{className:"text-sm text-white-600 mt-2",children:"Hei, det er en dag siden sist du spilte. Vil du resette data?"}),(0,r.jsxs)("div",{className:"mt-6 flex justify-end gap-4",children:[(0,r.jsx)("button",{className:"px-4 py-2 text-white-700 border border-gray-300 rounded-md hover:bg-gray-100",onClick:()=>{C(),p(!1)},children:"Avbryt"}),(0,r.jsx)("button",{className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",onClick:()=>{O(),p(!1)},children:"Ja, reset data"})]})]})})]})})}},8577:function(e,t,n){"use strict";function r(e,t,n){return n.some(n=>n.includes(e)&&n.includes(t))}function l(e){let t=[...e];for(let e=t.length-1;e>0;e--){let n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}n.d(t,{u:function(){return o}});let a=function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2],e.length<2)return[];let n=0;for(;n<3;){for(let n=0;n<e.length-1;n++)for(let l=n+1;l<e.length;l++)if(!r(e[n],e[l],t)){let r=[e[n],e[l]];return e.splice(l,1),e.splice(n,1),t.push(r),r}e.sort(()=>Math.random()-.5),n++}let l=e.pop(),a=e.pop();return console.log("⚠️ No unique pairs found after ".concat(3," attempts. Allowing repeat: ").concat(l," and ").concat(a)),t.push([l,a]),[l,a]},o=(e,t)=>{let n=JSON.parse(localStorage.getItem("pastPairs")||"[]"),o=JSON.parse(localStorage.getItem("breakCounts")||"{}");e=e.filter(e=>""!==e.trim());let s=Object.values(o),i=s.length>0?Math.max(...s):0;e.forEach(e=>{void 0===o[e]&&(o[e]=i)});let c=e.sort((e,t)=>o[t]-o[e]),d=Math.floor(c.length/4),u=t.slice(0,d),m=4*u.length,h=c.slice(0,m);h=l(h);let g=c.slice(m),f=function(e,t,n){if(e.length<4*t)return null;let a=Array(t);return!function e(o,s){if(o===t)return!0;for(let t of l(function(e,t){let n=[];return!function t(r,l){if(4===l.length){n.push([...l]);return}for(let n=r;n<e.length;n++)l.push(e[n]),t(n+1,l),l.pop()}(0,[]),n}(s,0)))for(let[i,c,d,u]of l([[t[0],t[1],t[2],t[3]],[t[0],t[2],t[1],t[3]],[t[0],t[3],t[1],t[2]]]))if(!r(i,c,n)&&!r(d,u,n)){if(n.push([i,c]),n.push([d,u]),a[o]={team1:[i,c],team2:[d,u]},e(o+1,s.filter(e=>!t.includes(e))))return!0;n.pop(),n.pop()}return!1}(0,e)?null:a}(h,u.length,n);if(null===f){console.warn("No arrangement without repeats was found. Falling back to repeated pairs...");let e=[],t=l([...h]);for(;e.length<u.length&&t.length>=4;){let r=a(t,n,!0),l=a(t,n,!0);if(0===r.length||0===l.length)break;e.push({team1:r,team2:l})}f=e}let x=f.map((e,t)=>({court:u[t],matches:[e]}));return g.forEach(e=>{o[e]=(o[e]||0)+1}),localStorage.setItem("matchups",JSON.stringify(x)),localStorage.setItem("onBreak",JSON.stringify(g)),localStorage.setItem("pastPairs",JSON.stringify(n)),localStorage.setItem("breakCounts",JSON.stringify(o)),{matchups:x,onBreak:g}}},67:function(){},2061:function(){}},function(e){e.O(0,[251,675,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);