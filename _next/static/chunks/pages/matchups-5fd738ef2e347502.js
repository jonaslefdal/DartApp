(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[53],{6762:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/matchups",function(){return r(5224)}])},8175:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var a=r(5893),l=r(9008),s=r.n(l),n=r(1664),o=r.n(n),c=r(1163);let i=[{label:"Vev",href:"/story"},{label:"Matchups",href:"/matchups"}];var m=()=>{let e=(0,c.useRouter)();return(0,a.jsx)("div",{className:"fixed top-0 left-0 z-20 w-full bg-zinc-900 pt-safe",children:(0,a.jsx)("header",{className:"border-b bg-zinc-100 px-safe dark:border-zinc-800 dark:bg-zinc-900",children:(0,a.jsxs)("div",{className:"mx-auto flex h-20 max-w-screen-md items-center justify-between px-6",children:[(0,a.jsx)(o(),{href:"/",children:(0,a.jsx)("h1",{className:"font-medium",children:"Vev kj\xf8rer dart"})}),(0,a.jsxs)("nav",{className:"flex items-center space-x-6",children:[(0,a.jsx)("div",{className:"hidden sm:block",children:(0,a.jsx)("div",{className:"flex items-center space-x-6",children:i.map(t=>{let{label:r,href:l}=t;return(0,a.jsx)(o(),{href:l,className:"text-sm ".concat(e.pathname===l?"text-indigo-500 dark:text-indigo-400":"text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-50"),children:r},r)})})}),(0,a.jsx)("div",{title:"Uia Dart",className:"h-10 w-10 bg-cover bg-center shadow-inner",style:{backgroundImage:"url(https://www.svgrepo.com/show/261503/trousers.svg)"}})]})]})})})},h=()=>{let e=(0,c.useRouter)();return(0,a.jsx)("div",{className:"sm:hidden",children:(0,a.jsx)("nav",{className:"fixed bottom-0 w-full border-t bg-zinc-100 pb-safe dark:border-zinc-800 dark:bg-zinc-900",children:(0,a.jsx)("div",{className:"mx-auto flex h-16 max-w-md items-center justify-around px-6",children:d.map(t=>{let{href:r,label:l,icon:s}=t;return(0,a.jsxs)(o(),{href:r,className:"flex h-full w-full flex-col items-center justify-center space-y-1 ".concat(e.pathname===r?"text-indigo-500 dark:text-indigo-400":"text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-50"),children:[s,(0,a.jsx)("span",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:l})]},l)})})})})};let d=[{label:"Home",href:"/",icon:(0,a.jsx)("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",children:(0,a.jsx)("path",{d:"M7.5.5l.325-.38a.5.5 0 00-.65 0L7.5.5zm-7 6l-.325-.38L0 6.27v.23h.5zm5 8v.5a.5.5 0 00.5-.5h-.5zm4 0H9a.5.5 0 00.5.5v-.5zm5-8h.5v-.23l-.175-.15-.325.38zM1.5 15h4v-1h-4v1zm13.325-8.88l-7-6-.65.76 7 6 .65-.76zm-7.65-6l-7 6 .65.76 7-6-.65-.76zM6 14.5v-3H5v3h1zm3-3v3h1v-3H9zm.5 3.5h4v-1h-4v1zm5.5-1.5v-7h-1v7h1zm-15-7v7h1v-7H0zM7.5 10A1.5 1.5 0 019 11.5h1A2.5 2.5 0 007.5 9v1zm0-1A2.5 2.5 0 005 11.5h1A1.5 1.5 0 017.5 10V9zm6 6a1.5 1.5 0 001.5-1.5h-1a.5.5 0 01-.5.5v1zm-12-1a.5.5 0 01-.5-.5H0A1.5 1.5 0 001.5 15v-1z",fill:"currentColor"})})},{label:"Vev",href:"/story",icon:(0,a.jsx)("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",children:(0,a.jsx)("path",{d:"M2.5.5V0H2v.5h.5zm10 0h.5V0h-.5v.5zM4.947 4.724a.5.5 0 00-.894-.448l.894.448zM2.5 8.494l-.447-.223-.146.293.21.251.383-.32zm5 5.997l-.384.32a.5.5 0 00.769 0l-.385-.32zm5-5.996l.384.32.21-.251-.146-.293-.447.224zm-1.553-4.219a.5.5 0 00-.894.448l.894-.448zM8 9.494v-.5H7v.5h1zm-.5-4.497A4.498 4.498 0 013 .5H2a5.498 5.498 0 005.5 5.497v-1zM2.5 1h10V0h-10v1zM12 .5a4.498 4.498 0 01-4.5 4.497v1c3.038 0 5.5-2.46 5.5-5.497h-1zM4.053 4.276l-2 3.995.895.448 2-3.995-.895-.448zM2.116 8.815l5 5.996.769-.64-5-5.996-.769.64zm5.768 5.996l5-5.996-.768-.64-5 5.996.769.64zm5.064-6.54l-2-3.995-.895.448 2 3.995.895-.448zM8 14.49V9.494H7v4.997h1z",fill:"currentColor"})})},{label:"Matchups",href:"/matchups",icon:(0,a.jsx)("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",children:(0,a.jsx)("path",{d:"M7.5 15V7m0 .5v3m0-3a4 4 0 00-4-4h-3v3a4 4 0 004 4h3m0-3h3a4 4 0 004-4v-3h-3a4 4 0 00-4 4v3zm0 0l4-4m-4 7l-4-4",stroke:"currentColor"})})}];var u=e=>{let{title:t,children:r}=e;return(0,a.jsxs)(a.Fragment,{children:[t?(0,a.jsx)(s(),{children:(0,a.jsxs)("title",{children:["Dart Kj\xf8ret | ",t]})}):null,(0,a.jsx)(m,{}),(0,a.jsx)("main",{className:"mx-auto max-w-screen-md pt-20 pb-16 px-safe sm:pb-0",children:(0,a.jsx)("div",{className:"p-6",children:r})}),(0,a.jsx)(h,{})]})}},4521:function(e,t,r){"use strict";var a=r(5893);t.Z=e=>{let{children:t}=e;return(0,a.jsx)("section",{className:"mt-10",children:t})}},5224:function(e,t,r){"use strict";r.r(t);var a=r(5893),l=r(7294),s=r(1163),n=r(8175),o=r(4521),c=r(4722);t.default=()=>{let e=(0,s.useRouter)(),[t,r]=(0,l.useState)([]),[i,m]=(0,l.useState)([]),[h,d]=(0,l.useState)([]),[u,x]=(0,l.useState)([]),[g,f]=(0,l.useState)([]),[p,v]=(0,l.useState)({}),[w,j]=(0,l.useState)(0);(0,l.useEffect)(()=>{d(JSON.parse(localStorage.getItem("players")||"[]")),x(JSON.parse(localStorage.getItem("courts")||"[]")),r(JSON.parse(localStorage.getItem("matchups")||"[]")),m(JSON.parse(localStorage.getItem("onBreak")||"[]")),f(JSON.parse(localStorage.getItem("pastPairs")||"[]"));let e=localStorage.getItem("matchWinners");e&&v(JSON.parse(e));let t=localStorage.getItem("roundCount");t&&j(parseInt(t,10))},[]),(0,l.useEffect)(()=>{(function(){let e=new Date().toDateString();localStorage.getItem("sessionDate")!==e&&(window.confirm("Hei, det er en dag siden sist du spillte, vil du resette data?")&&(localStorage.setItem("courts",JSON.stringify(["Bane 1","Bane 2","Bane 3","Bane 4"])),localStorage.removeItem("matchups"),localStorage.removeItem("onBreak"),localStorage.removeItem("pastTeams"),localStorage.removeItem("pastPairs"),localStorage.removeItem("lastRoundPlayers"),localStorage.removeItem("pastBreaks"),localStorage.removeItem("breakCounts"),localStorage.removeItem("roundCount"),localStorage.removeItem("currentCount"),console.log("Pairing data has been reset.")),localStorage.setItem("sessionDate",e))})()},[]);let N=(e,t,r)=>{let a="".concat(e,"-").concat(t),l={...p,[a]:r};v(l),localStorage.setItem("matchWinners",JSON.stringify(l))};return(e=>{let t={},r={};return e.forEach(e=>{let a=[...e].sort(),l=a.join(" - ");t[l]=(t[l]||0)+1,r[l]=a}),Object.keys(t).filter(e=>t[e]>1).map(e=>r[e])})(g),(0,a.jsx)(n.Z,{children:(0,a.jsx)(o.Z,{children:(0,a.jsxs)("div",{className:"max-w-md mx-auto space-y-6",children:[w>9&&(0,a.jsxs)("div",{className:"bg-red-500 text-white p-4 rounded-md",children:[(0,a.jsx)("p",{className:"text-center font-bold",children:"Hei! Du har spilt over 10 runder. Er det p\xe5 tide \xe5 resette?"}),(0,a.jsx)("div",{className:"text-center mt-2",children:(0,a.jsx)("button",{onClick:()=>e.push("/story"),className:"px-4 py-2 bg-white text-red-500 font-semibold rounded-md hover:bg-red-100",children:"Nullstill \xf8kt"})})]}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-center",children:"Matchups"}),t.length>0?t.map((e,t)=>(0,a.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg shadow-lg space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-center text-white",children:e.court}),e.matches.length>0?e.matches.map((e,r)=>{let l="".concat(t,"-").concat(r);return(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4 bg-gray-700 p-4 rounded-md shadow-md",children:[(0,a.jsx)("div",{onClick:()=>N(t,r,"left"),className:"flex flex-col items-center w-full sm:w-1/2 cursor-pointer\n                            rounded-md transition-colors duration-300 p-2\n                            ".concat("left"===p[l]?"bg-green-700":"bg-gray-800","\n                          "),children:e.team1.map((e,t)=>(0,a.jsx)("p",{className:" text-white font-medium text-sm text-center w-full sm:max-w-full whitespace-normal break-normal ",children:e},t))}),(0,a.jsx)("div",{className:"text-white text-4xl font-bold flex items-center justify-center -mt-3 -mb-2",children:"\uD83C\uDFAF"}),(0,a.jsx)("div",{onClick:()=>N(t,r,"right"),className:"flex flex-col items-center w-full sm:w-1/2 cursor-pointer\n                            rounded-md transition-colors duration-300 p-2\n                            ".concat("right"===p[l]?"bg-green-700":"bg-gray-800","\n                          "),children:e.team2.map((e,t)=>(0,a.jsxs)("p",{className:" text-white font-medium text-sm text-center w-full sm:max-w-full whitespace-normal break-normal ",children:["                              ",e]},t))})]},r)}):(0,a.jsx)("p",{className:"text-gray-400 text-center",children:"No matches found for this court"})]},t)):(0,a.jsx)("p",{className:"text-gray-400 text-center",children:"No matchups found. Go back and generate teams!"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-center",children:"P\xe5 pause"}),(0,a.jsx)("div",{className:"flex flex-wrap justify-center gap-4",children:i.map((e,t)=>(0,a.jsx)("span",{className:"py-2 px-2 flex items-center justify-center bg-red-500 text-white font-medium text-sm rounded-md shadow-md text-center whitespace-normal break-normal",children:e},t))}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("button",{onClick:()=>{let e=w+1;if(j(e),localStorage.setItem("roundCount",e.toString()),localStorage.removeItem("matchWinners"),v({}),h.length<4){alert("Not enough players to generate teams.");return}let{matchups:t,onBreak:a}=(0,c.u)(h,u);r(t),m(a),f(JSON.parse(localStorage.getItem("pastPairs")||"[]"))},className:"mt-6 px-6 py-2 bg-green-500 text-white rounded-md hover:bg-green-600",children:"Generer nytt spill"})})]})})})}},4722:function(e,t,r){"use strict";function a(e,t,r){return r.some(r=>r.includes(e)&&r.includes(t))}function l(e){let t=[...e];for(let e=t.length-1;e>0;e--){let r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t}r.d(t,{u:function(){return n}});let s=function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2],e.length<2)return[];let r=0;for(;r<3;){for(let r=0;r<e.length-1;r++)for(let l=r+1;l<e.length;l++)if(!a(e[r],e[l],t)){let a=[e[r],e[l]];return e.splice(l,1),e.splice(r,1),t.push(a),a}e.sort(()=>Math.random()-.5),r++}let l=e.pop(),s=e.pop();return console.log("⚠️ No unique pairs found after ".concat(3," attempts. Allowing repeat: ").concat(l," and ").concat(s)),t.push([l,s]),[l,s]},n=(e,t)=>{let r=JSON.parse(localStorage.getItem("pastPairs")||"[]"),n=JSON.parse(localStorage.getItem("breakCounts")||"{}");e=e.filter(e=>""!==e.trim());let o=Object.values(n),c=o.length>0?Math.max(...o):0;e.forEach(e=>{void 0===n[e]&&(n[e]=c)});let i=e.sort((e,t)=>n[t]-n[e]),m=Math.floor(i.length/4),h=t.slice(0,m),d=l(h),u=4*h.length,x=i.slice(0,u),g=i.slice(u),f=function(e,t,r){if(e.length<4*t)return null;let s=Array(t);return!function e(n,o){if(n===t)return!0;for(let t of l(function(e,t){let r=[];return!function t(a,l){if(4===l.length){r.push([...l]);return}for(let r=a;r<e.length;r++)l.push(e[r]),t(r+1,l),l.pop()}(0,[]),r}(o,0)))for(let[c,i,m,h]of l([[t[0],t[1],t[2],t[3]],[t[0],t[2],t[1],t[3]],[t[0],t[3],t[1],t[2]]]))if(!a(c,i,r)&&!a(m,h,r)){if(r.push([c,i]),r.push([m,h]),s[n]={team1:[c,i],team2:[m,h]},e(n+1,o.filter(e=>!t.includes(e))))return!0;r.pop(),r.pop()}return!1}(0,e)?null:s}(x,h.length,r);if(null===f){console.warn("No arrangement without repeats was found. Falling back to repeated pairs...");let e=[],t=l([...x]);for(;e.length<h.length&&t.length>=4;){let a=s(t,r,!0),l=s(t,r,!0);if(0===a.length||0===l.length)break;e.push({team1:a,team2:l})}f=e}let p=f.map((e,t)=>({court:d[t],matches:[e]}));return g.forEach(e=>{n[e]=(n[e]||0)+1}),localStorage.setItem("matchups",JSON.stringify(p)),localStorage.setItem("onBreak",JSON.stringify(g)),localStorage.setItem("pastPairs",JSON.stringify(r)),localStorage.setItem("breakCounts",JSON.stringify(n)),{matchups:p,onBreak:g}}}},function(e){e.O(0,[996,888,774,179],function(){return e(e.s=6762)}),_N_E=e.O()}]);